@using PinnaFace.Core.Models
@model PinnaFace.Core.Models.VisaDTO

@{
    ViewBag.Title = @Model.SponsorFullNameShort.ToLower() + " ";
}

<div style="padding: 10px; background: white;">
    <h4></h4>

    <h5 style="margin-top: 25px;">Visa Details/معلومات التاءشيرة</h5>
    <hr style="margin-bottom: 5px; margin-top: 5px;"/>

    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span12">
                <div class="form-inline">
                    @Html.HiddenFor(model => model.Id)

                    <div class="form-group">
                        @Html.LabelFor(model => model.Sponsor.FullName, "Full Name/الاسم الكامل")
                        @Html.TextBoxFor(model => model.Sponsor.FullName, new {@class = "form-control", @disabled = "disabled"})
                           
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.Sponsor.PassportNumber, "I.D. Card No./رقم الهوية")
                        @Html.TextBoxFor(model => model.Sponsor.PassportNumber, new {@class = "form-control", @disabled = "disabled"})
                           
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.VisaNumber, "Visa Number/رقم التاءشيرة")
                        @Html.TextBoxFor(model => model.VisaNumber, new {@class = "form-control", @disabled = "disabled"})
                          
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.VisaDateArabic, "Date of Visa/تاريخ التاءشيرة")
                        @Html.TextBoxFor(model => model.VisaDateArabic, new {@class = "form-control", @disabled = "disabled"})
                         
                    </div>

                </div>
            </div>
       
        </div>
    </div>

    <h5 style="margin-top: 25px;">Assigned to Employee(s)</h5>
    <hr style="margin-bottom: 5px; margin-top: 5px;"/>
    
    @if (@Model.Employees.Count > 0)
    {
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span12">
                    <table class="table table-striped table-condensed table-hover " id="table_id2">

                        <tr>
                            <th>First Name
                            </th>
                            <th>Passport Number
                            </th>
                            <th>Sex
                            </th>
                            <th>Status
                            </th>
                  
                        </tr>

                        <tbody>
                            @foreach (EmployeeDTO employeeDto in Model.Employees)
                            {
                                <tr>
                                    <td>
                                        @Html.ActionLink(@Html.DisplayFor(modelItem => employeeDto.FirstName).ToString(), "Details", "Employee",
                                            new {empId = employeeDto.IdEncrypted}, null)

                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => employeeDto.PassportNumber)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => employeeDto.Sex)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => employeeDto.StatusString)
                                    </td>
                   
                      
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    }
    else
    {
        <div class="error">No one is Assigned to this visa...</div>
    }

</div>


<script type="text/javascript">
    $('#visamenu').addClass('active');
</script>